<%= main_frame do %>
  <div class="space-y-4 max-w-2xl">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold">New Effect</h2>
      <%= link_to "Back", owner_effects_path, class: "text-sm text-blue-600 hover:underline" %>
    </div>
    <%= render 'form' %>
    <% if @prefill_effectable_name.present? %>
      <script>
        document.addEventListener('turbo:load', () => {
          const input = document.querySelector("input[name='effect[effectable_name]']")
          if (input && !input.value) input.value = <%= @prefill_effectable_name.to_json %>
        })
      </script>
    <% end %>
  </div>
<% end %>
